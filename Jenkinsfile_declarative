pipeline {
  agent any
  stages {
    stage('Source') {
      steps {
        sh 'git clone https://github.com/digitalvarys/jenkins-tutorials.git'
        sh 'mkdir /opt/gradle'
        sh 'curl -L https://services.gradle.org/distributions/gradle-6.5-bin.zip --output gradle.zip'
        sh 'mkdir /opt/gradle/'
        sh 'unzip -d /opt/gradle/ gradle.zip'
        echo ' success .....'
      }
    }
    stage('Compile') {
      tools {
       // gradle 'gradle4'
      }
      steps {
        sh 'gradle clean compileJava test'
      }
    }
  }
}
